algoritmo "Jogo_de_Adivinhacao_Melhorado"
// Autor: Ricardo Fiorini Cuato
// Data: 12/11/2025
// Descri√ß√£o: Jogo de adivinha√ß√£o com n√≠veis de dificuldade,
//            valida√ß√£o de entrada e loop de replay.

var
   continuar: caractere
   limiteMaximo: inteiro

//-------------------------------------------------------------
// FUN√á√ÉO: escolherDificuldade
// Objetivo: Exibir um menu e retornar o limite m√°ximo para o jogo.
//-------------------------------------------------------------
funcao escolherDificuldade(): inteiro
   var
      opcao: inteiro
      limite: inteiro
   
   limpatela()
   escreval("--- Jogo de Adivinha√ß√£o ---")
   escreval("Escolha o n√≠vel de dificuldade:")
   escreval("1. F√°cil (1 a 20)")
   escreval("2. M√©dio (1 a 100)")
   escreval("3. Dif√≠cil (1 a 500)")
   escreval("-----------------------------")
   
   // Valida√ß√£o da op√ß√£o do menu
   repita
      escreva("Digite sua op√ß√£o (1, 2 ou 3): ")
      leia(opcao)
      se (opcao < 1) ou (opcao > 3) entao
         escreval("Op√ß√£o inv√°lida!")
      fimse
   ate (opcao >= 1) e (opcao <= 3)

   // Define o limite com base na op√ß√£o
   escolha opcao
      caso 1:
         limite := 20
      caso 2:
         limite := 100
      caso 3:
         limite := 500
   fimescolha
   
   retorne limite
fimfuncao

//-------------------------------------------------------------
// PROCEDIMENTO: jogarPartida
// Objetivo: Executar uma rodada completa do jogo.
// Par√¢metro: O n√∫mero m√°ximo que pode ser sorteado.
//-------------------------------------------------------------
procedimento jogarPartida(limite: inteiro)
   var
      numeroSecreto, palpite, tentativas: inteiro
   
   // Inicializa o gerador de n√∫meros aleat√≥rios
   // (Chamamos aqui para garantir um novo n√∫mero a cada partida)
   aleatorio.semente(aleatorio.tempo())
   
   // Gera um n√∫mero aleat√≥rio entre 1 e o limite escolhido
   numeroSecreto := aleatorio.inteiro(1, limite)
   tentativas := 0
   
   limpatela()
   escreval("Eu escolhi um n√∫mero entre 1 e ", limite, ".")
   escreval("Tente adivinhar qual √©!")
   escreval

   // Loop do jogo (repita...ate √© melhor aqui)
   repita
      escreva("Digite seu palpite: ")
      leia(palpite)
      
      tentativas := tentativas + 1

      // Valida√ß√£o de entrada (impede palpites fora do range)
      se (palpite < 1) ou (palpite > limite) entao
         escreval("Palpite inv√°lido! O n√∫mero est√° entre 1 e ", limite, ".")
         
      // L√≥gica de feedback do jogo
      senao se (palpite < numeroSecreto) entao
         escreval("Muito BAIXO! Tente um n√∫mero maior.")
         
      senao se (palpite > numeroSecreto) entao
         escreval("Muito ALTO! Tente um n√∫mero menor.")
         
      fimse
      
   // O loop termina quando o palpite for correto
   ate (palpite = numeroSecreto)
   
   // Mensagem de vit√≥ria
   escreval
   escreval("---------------------------------------------")
   escreval("üéâ PARAB√âNS! Voc√™ acertou! üéâ")
   escreval("O n√∫mero secreto era ", numeroSecreto, ".")
   escreval("Voc√™ precisou de ", tentativas, " tentativas.")
   escreval("---------------------------------------------")
   escreval
fimprocedimento

//-------------------------------------------------------------
// BLOCO PRINCIPAL
// Objetivo: Controlar o fluxo principal do programa (replay).
//-------------------------------------------------------------
inicio
   // Loop principal para jogar novamente
   repita
      // 1. Pede a dificuldade
      limiteMaximo := escolherDificuldade()
      
      // 2. Executa o jogo
      jogarPartida(limiteMaximo)
      
      // 3. Pergunta se quer jogar de novo
      escreva("Deseja jogar novamente? (S/N): ")
      leia(continuar)
      
   ate (maiusc(continuar) = "N")
   
   limpatela()
   escreval("Obrigado por jogar! At√© a pr√≥xima.")
fimalgoritmo
